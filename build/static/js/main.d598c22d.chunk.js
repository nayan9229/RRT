(window.webpackJsonprichpanel=window.webpackJsonprichpanel||[]).push([[0],{16:function(e,t,a){},21:function(e,t,a){e.exports=a(39)},26:function(e,t,a){},27:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var l=a(1),s=a.n(l),n=a(18),i=a.n(n),c=(a(26),a(19)),m=a(7),r=a(8),d=a(11),o=a(9),u=a(3),h=a(10),p=(a(27),a(6)),_=a.n(p),g=(a(16),l.Component,a(5)),f=a.n(g),E=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(o.a)(t).call(this))).state={isLoading:!0,data:{},tweets:[]},e.selectedUser=e.selectedUser.bind(Object(u.a)(e)),e.getLatestTweete=e.getLatestTweete.bind(Object(u.a)(e)),e.tweetTounify=e.tweetTounify.bind(Object(u.a)(e)),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getLatestTweete(f.a.get("token"),f.a.get("secret"))}},{key:"selectedUser",value:function(e){var t=this.state.data;for(var a in t){if(t.hasOwnProperty(a))t[a].isActive=!1}t[e].isActive=!0,this.setState({tweets:t[e].tweets}),this.setState({data:t})}},{key:"getLatestTweete",value:function(e,t){var a=this;fetch("/apis/6IJiBbLkBcc8HsIpNYINhruTCQF2/status",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,secret:t})}).then((function(e){return e.json()})).then((function(e){e=a.tweetTounify(e.data),a.setState({data:e})}))}},{key:"tweetTounify",value:function(e){var t={};return e.forEach((function(e,a){t[e.user.screen_name]||(t[e.user.screen_name]={},t[e.user.screen_name].tweets=[]),t[e.user.screen_name].screen_name=e.user.screen_name,t[e.user.screen_name].name=e.user.name,t[e.user.screen_name].profile_image_url_https=e.user.profile_image_url_https,t[e.user.screen_name].isActive=!1,0===a&&(t[e.user.screen_name].isActive=!0),t[e.user.screen_name].tweets.length>0?t[e.user.screen_name].tweets.push(e):(t[e.user.screen_name].tweets=[],t[e.user.screen_name].tweets.push(e)),e.user.in_reply_to_status_id&&(t[e.user.in_reply_to_status_id]||(t[e.user.in_reply_to_status_id]={},t[e.user.in_reply_to_status_id].tweets=[]),t[e.user.in_reply_to_status_id].tweets.length>0?t[e.user.in_reply_to_status_id].tweets.push(e):(t[e.user.in_reply_to_status_id].tweets=[],t[e.user.in_reply_to_status_id].tweets.push(e)))})),t}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.data)this.state.data.hasOwnProperty(a)&&function(){var l=e.state.data[a],n=s.a.createElement("div",{onClick:function(){return e.selectedUser(l.screen_name)},key:l.screen_name,id:l.screen_name,className:l.isActive?"chat_list active_chat":"chat_list"},s.a.createElement("div",{className:"chat_people"},s.a.createElement("div",{className:"chat_img"}," ",s.a.createElement("img",{src:l.profile_image_url_https,alt:l.screen_name})," "),s.a.createElement("div",{className:"chat_ib"},s.a.createElement("h5",null,l.name," ",s.a.createElement("span",{className:"chat_date"})),s.a.createElement("p",null,l.screen_name))));t.push(n)}();return s.a.createElement("div",{className:"Chatview"},s.a.createElement("div",{className:"messaging"},s.a.createElement("div",{className:"inbox_msg"},s.a.createElement("div",{className:"inbox_people"},s.a.createElement("div",{className:"headind_srch"},s.a.createElement("div",{className:"recent_heading"},s.a.createElement("h4",null,"Recent")),s.a.createElement("div",{className:"srch_bar"},s.a.createElement("div",{className:"stylish-input-group"},s.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search"}),s.a.createElement("span",{className:"input-group-addon"},s.a.createElement("button",{type:"button"}," ",s.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})," "))," "))),s.a.createElement("div",{className:"inbox_chat"},t)),s.a.createElement("div",{className:"mesgs"},s.a.createElement("div",{className:"msg_history"},this.state.tweets.map((function(e,t){return s.a.createElement("div",{className:e.isFeomMe?"outgoing_msg":"incoming_msg",key:t},s.a.createElement("div",{className:"incoming_msg_img"}," ",s.a.createElement("img",{src:e.user.profile_image_url_https,alt:e.user.name})," "),s.a.createElement("div",{className:"received_msg"},s.a.createElement("div",{className:"received_withd_msg"},s.a.createElement("p",null,e.text),s.a.createElement("span",{className:"time_date"},e.created_at))))}))),s.a.createElement("div",{className:"type_msg"},s.a.createElement("div",{className:"input_msg_write"},s.a.createElement("input",{type:"text",className:"write_msg",placeholder:"Type a message"}),s.a.createElement("button",{className:"msg_send_btn",type:"button"},s.a.createElement("i",{className:"fa fa-paper-plane-o","aria-hidden":"true"}))))))))}}]),t}(l.Component);_.a.initializeApp({apiKey:"AIzaSyAM5--2ZDdVMAyIAGiJgLQOsdRlEpNewe0",authDomain:"richpanel-92326.firebaseapp.com",databaseURL:"https://richpanel-92326.firebaseio.com",projectId:"richpanel-92326",storageBucket:"",messagingSenderId:"677614933086",appId:"1:677614933086:web:32b7af57a907d31ae290cf",measurementId:"G-95XWCEQQ5Y"});var v=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(o.a)(t).call(this))).handleChange=function(t){e.setState(Object(c.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),_.a.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(){console.log("LOGIN_SUCCESS")})).catch((function(e){console.log("LOGIN_ERROR")}))},e.state={isLoading:!0,email:"",password:"",isAuthenticated:!1,isSignedIn:!1,isTwitter:!1,isSignedUp:!1,authError:""},e.loginWithTwitter=e.loginWithTwitter.bind(Object(u.a)(e)),e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(u.a)(e)),e.signUp=e.signUp.bind(Object(u.a)(e)),e.logOut=e.logOut.bind(Object(u.a)(e)),e.signUpform=e.signUpform.bind(Object(u.a)(e)),e}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.a.auth().onAuthStateChanged((function(t){t?(e.setState({user:t}),e.setState({isAuthenticated:!0}),e.setState({isSignedIn:!1}),e.setState({isSignedUp:!1}),e.setState({isTwitter:!0}),e.setState({uid:t.uid}),f.a.get("token")?e.setState({isTwitter:!1}):(e.setState({isTwitter:!0}),e.setState({isAuthenticated:!1}))):e.setState({isSignedIn:!0})}))}},{key:"signUp",value:function(e){var t=this;e.preventDefault(),_.a.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then((function(e){console.log(e),t.setState({authError:""})})).catch((function(e){console.log("======",e.message),t.setState({authError:""+e.message})}))}},{key:"logOut",value:function(e){_.a.auth().signOut().then((function(){console.log("SIGNOUT_SUCCESS")})),this.setState({isAuthenticated:!1}),this.setState({isSignedIn:!1}),this.setState({isSignedUp:!1}),this.setState({isTwitter:!1}),this.setState({data:{}}),this.setState({tweets:[]}),f.a.set("token",null),f.a.set("secret",null),f.a.remove("token"),f.a.remove("secret"),e.preventDefault()}},{key:"loginWithTwitter",value:function(e){e.preventDefault();var t=new _.a.auth.TwitterAuthProvider,a=this;_.a.auth().signInWithPopup(t).then((function(e){a.setState({accessToken:e.credential.accessToken,secret:e.credential.secret}),a.setState({user:e.user}),a.setState({result:e}),a.setState({isTwitter:!1}),a.setState({isAuthenticated:!0}),f.a.set("token",e.credential.accessToken),f.a.set("secret",e.credential.secret)})).catch((function(e){console.log(e)}))}},{key:"signUpform",value:function(e){e.preventDefault(),this.setState({isAuthenticated:!1}),this.setState({isSignedIn:!1}),this.setState({isSignedUp:!0}),this.setState({isTwitter:!0})}},{key:"render",value:function(){return s.a.createElement("div",{className:"mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-color--blue-grey-50"},s.a.createElement("header",{className:"android-header mdl-layout__header"},s.a.createElement("div",{className:"mdl-layout__header-row"},s.a.createElement("span",{className:"mdl-layout-title"},"Title"),s.a.createElement("div",{className:"mdl-layout-spacer"}),s.a.createElement("nav",{className:"mdl-navigation mdl-layout--large-screen-only"},this.state.isAuthenticated?s.a.createElement("a",{onClick:this.logOut,className:"mdl-navigation__link",href:"/"},"Logout"):null))),s.a.createElement("main",{className:"mdl-layout__content"},s.a.createElement("div",{className:"page-content"},this.state.isAuthenticated?s.a.createElement(E,null):this.state.isSignedIn?s.a.createElement("div",{className:"android-more-section mdl-grid"},s.a.createElement("div",{className:"mdl-cell mdl-cell--2-col"}),s.a.createElement("div",{className:"android-card-container mdl-card mdl-shadow--2dp mdl-cell--8-col mdl-cell--12-col-phone"},s.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"mdl-card__title"},s.a.createElement("h2",{className:"mdl-card__title-text"},"User Login")),s.a.createElement("div",{className:"mdl-card__supporting-text mdl-grid"},s.a.createElement("b",{className:"mdl-color-text--accent"},this.state.authError),s.a.createElement("input",{type:"hidden",name:"action",value:"login"}),s.a.createElement("div",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col"},s.a.createElement("label",{className:"mdl-textfield__label",htmlFor:"email"},"Email"),s.a.createElement("input",{className:"mdl-textfield__input",type:"email",id:"email",onChange:this.handleChange})),s.a.createElement("div",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col"},s.a.createElement("label",{className:"mdl-textfield__label",htmlFor:"password"},"Password"),s.a.createElement("input",{className:"mdl-textfield__input",type:"password",id:"password",onChange:this.handleChange})),s.a.createElement("div",{className:"mdl-cell mdl-cell--12-col",align:"center"},s.a.createElement("button",{type:"submit",className:"mdl-cell--5-col mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"}," SignIn "),s.a.createElement("button",{onClick:this.signUpform,type:"submit",className:"mdl-cell--1-offset mdl-cell--5-col mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"}," SignUp ")))))):this.state.isSignedUp?s.a.createElement("div",{className:"android-more-section mdl-grid"},s.a.createElement("div",{className:"mdl-cell mdl-cell--2-col"}),s.a.createElement("div",{className:"android-card-container mdl-card mdl-shadow--2dp mdl-cell--8-col mdl-cell--12-col-phone"},s.a.createElement("form",{className:"white",onSubmit:this.signUp},s.a.createElement("div",{className:"mdl-card__title"},s.a.createElement("h2",{className:"mdl-card__title-text"},"Sign Up")),s.a.createElement("div",{className:"mdl-card__supporting-text mdl-grid"},s.a.createElement("b",{className:"mdl-color-text--accent"},this.state.authError),s.a.createElement("input",{type:"hidden",name:"action",value:"login"}),s.a.createElement("div",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col"},s.a.createElement("label",{className:"mdl-textfield__label",htmlFor:"email"},"Email"),s.a.createElement("input",{className:"mdl-textfield__input",type:"email",id:"email",onChange:this.handleChange})),s.a.createElement("div",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col"},s.a.createElement("label",{className:"mdl-textfield__label",htmlFor:"password"},"Password"),s.a.createElement("input",{className:"mdl-textfield__input",type:"password",id:"password",onChange:this.handleChange})),s.a.createElement("div",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col"},s.a.createElement("label",{className:"mdl-textfield__label",htmlFor:"firstName"},"First Name"),s.a.createElement("input",{className:"mdl-textfield__input",type:"text",id:"firstName",onChange:this.handleChange})),s.a.createElement("div",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col"},s.a.createElement("label",{className:"mdl-textfield__label",htmlFor:"lastName"},"Last Name"),s.a.createElement("input",{className:"mdl-textfield__input",type:"text",id:"lastName",onChange:this.handleChange})),s.a.createElement("div",{className:"mdl-cell mdl-cell--12-col",align:"center"},s.a.createElement("button",{type:"submit",className:"mdl-cell--12-col mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"},"Sign Up ")))))):this.state.isTwitter?s.a.createElement("div",{className:"mdl-cell--12-col mdl-grid"},s.a.createElement("div",{className:"mdl-cell mdl-cell--2-col"}),s.a.createElement("div",{className:"android-card-container mdl-card mdl-shadow--2dp mdl-cell--8-col mdl-cell--12-col-phone"},s.a.createElement("div",{className:"mdl-card__title"},s.a.createElement("h2",{className:"mdl-card__title-text"},"Connect your twitter to continue")),s.a.createElement("div",{className:"mdl-cell mdl-cell--12-col",align:"center"},s.a.createElement("button",{onClick:this.loginWithTwitter,className:"mdl-cell--6-col mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"},"Connect Twitter")))):s.a.createElement("div",null))))}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.d598c22d.chunk.js.map